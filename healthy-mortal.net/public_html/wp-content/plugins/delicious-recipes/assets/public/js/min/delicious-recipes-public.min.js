function recipeScripts(){var Util=function(){};Util.on=function(eventName,selector,callback){document.addEventListener(eventName,function(event){for(var elTarget=event.target;elTarget&&elTarget!=this;elTarget=elTarget.parentNode)if(elTarget.matches(selector)){callback.call(elTarget,event);break}},!1)},window.delicious_recipes.utilities=Util,Util.on("click",".view-gallery-btn",function(event){var allimages=JSON.parse(this.dataset.lgSettings).map(function(img){return{src:img.previewURL}});window.lightGallery(event.target,{dynamic:!0,dynamicEl:allimages}).openGallery(0)}),Util.on("click",".dr-video-toggle",function(e){if(e.target.matches(".dr-video-toggle")){let videoTargets=document.querySelectorAll(e.target.getAttribute("data-target"));videoTargets.forEach(function(video){"none"===video.style.display?video.style.display="block":video.style.display="none"})}}),["keyup","mouseup"].forEach(function(evt){document.addEventListener(evt,function(e){if(e.target.classList.contains("dr-scale-ingredients")){let ingredient=e.target.closest(".dr-ingredients-list"),newServe=e.target.value,recipeID=e.target.getAttribute("data-recipe"),originalServe=(newServe=Number(newServe),e.target.getAttribute("data-original")),ingredientQuantities=(originalServe=Number(originalServe),ingredient.querySelectorAll(".ingredient_quantity")),printBtn=document.getElementById("dr-single-recipe-print-"+recipeID),default_print_lnk=printBtn.getAttribute("href");var default_print_attrs=default_print_lnk.split("?"),new_print_attrs="print_recipe=true&recipe_servings="+newServe;printBtn.setAttribute("href",default_print_attrs[0]+"?"+new_print_attrs),ingredientQuantities.forEach(function(qty){let ingredientQty=qty.getAttribute("data-original"),newIngredientQty=(ingredientQty=math.fraction(ingredientQty),eval(ingredientQty/originalServe*newServe));1!=ingredientQty.d&&(newIngredientQty=math.fraction(newIngredientQty),newIngredientQty=newIngredientQty.n+"/"+newIngredientQty.d),qty.innerText=newIngredientQty})}})}),Util.on("click","a",function(e){if(e.target.getAttribute("href")?.match(/^#.*$/)){e.preventDefault();let targetID=document.querySelector(e.target.getAttribute("href"));targetID.scrollIntoView({behavior:"smooth"})}}),recipe_global.initRatings("body"),recipe_global.initLightGallery(document.body),document.addEventListener("click",function(e){handleFaqAccordion(e)})}function handleFaqAccordion(e){if(e.target.matches(".dr-switch-btn")){let switchButtons=e.target;var switchOnText,switchOffText,targetID,switchStats;switchButtons&&(switchStats=switchButtons.getAttribute("data-switch"),switchOnText=switchButtons.getAttribute("data-switch-on"),switchOffText=switchButtons.getAttribute("data-switch-off"),targetID=switchButtons.getAttribute("data-target"),"off"==switchStats?(switchButtons.setAttribute("data-switch","on"),switchButtons.innerText=switchOnText):(switchButtons.setAttribute("data-switch","off"),switchButtons.innerText=switchOffText),switchStats=switchButtons.getAttribute("data-switch"),function(toggleItem,switchStatus){"on"==switchStatus?toggleItem.forEach(function(item){item.classList.add("faq-active")}):toggleItem.forEach(function(item){item.classList.remove("faq-active")})}(document.querySelector(targetID).querySelectorAll(".dr-faq-item"),switchStats))}["dr-faq-title-wrap","dr-title"].forEach(function(cls){e.target.classList.contains(cls)&&(e.target.closest(".dr-faq-item").matches(".faq-active")?e.target.closest(".dr-faq-item").classList.remove("faq-active"):e.target.closest(".dr-faq-item").classList.add("faq-active"))})}window.recipe_global=class{constructor(){}static initLightGallery(content){content=content.querySelectorAll(".dr-instruction-videopop");content&&content.forEach(function(_video){lightGallery(_video,{selector:"this"})})}static initRatings(content){jQuery(content).find(".dr-comment-form-rating").each(function(){jQuery(this).rateYo({halfStar:!0,onChange:function(rating,rateYoInstance){jQuery(this).parent().find('input[name="rating"]').val(rating)}})})}},!function($){var modal,rtl=!!$("body").hasClass("rtl");$(".dr-post-carousel").owlCarousel({items:3,autoplay:!1,loop:!1,nav:!0,dots:!1,rewind:!0,margin:30,autoplaySpeed:800,autoplayTimeout:3e3,rtl:rtl,navText:['<svg xmlns="http://www.w3.org/2000/svg" width="18.479" height="12.689" viewBox="0 0 18.479 12.689"><g transform="translate(17.729 11.628) rotate(180)"><path d="M7820.11-1126.021l5.284,5.284-5.284,5.284" transform="translate(-7808.726 1126.021)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/><path d="M6558.865-354.415H6542.66" transform="translate(-6542.66 359.699)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="18.479" height="12.689" viewBox="0 0 18.479 12.689"><g transform="translate(0.75 1.061)"><path d="M7820.11-1126.021l5.284,5.284-5.284,5.284" transform="translate(-7808.726 1126.021)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/><path d="M6558.865-354.415H6542.66" transform="translate(-6542.66 359.699)" fill="none" stroke="#232323" stroke-linecap="round" stroke-width="1.5"/></g></svg>'],responsive:{0:{items:1},768:{items:2},1025:{items:3}}}),$(".js-select2").select2({closeOnSelect:!1,placeholder:delicious_recipes.search_placeholder,allowClear:!0}),$("body").on("change",".dr-search-field select",function(){var choices={};$(".dr-search-field select option").each(function(){$(this).is(":selected")&&(choices.hasOwnProperty($(this).attr("name"))||(choices[$(this).attr("name")]=[]),-1==$.inArray(this.value,choices[$(this).attr("name")])&&choices[$(this).attr("name")].push(this.value))}),nonce=$("#dr-search-nonce").val(),jQuery.ajax({url:delicious_recipes.ajax_url,data:{action:"recipe_search_results",search:choices,nonce:nonce},dataType:"json",type:"post",beforeSend:function(){$(".dr-search-item-wrap").addClass("dr-loading")},success:function(response){var template;response.success&&(template=wp.template("search-block-tmp"),$(".dr-search-item-wrap").html(template(response.data.results)),$(".navigation.pagination .nav-links").addClass("dr-ajax-paginate").html(response.data.pagination))},complete:function(){$(".dr-search-item-wrap").removeClass("dr-loading")}})}),$(document).on("click",".dr-ajax-paginate a.page-numbers",function(e){e.preventDefault();var choices={};$(".dr-search-field select option").each(function(){$(this).is(":selected")&&(choices.hasOwnProperty($(this).attr("name"))||(choices[$(this).attr("name")]=[]),-1==$.inArray(this.value,choices[$(this).attr("name")])&&choices[$(this).attr("name")].push(this.value))}),nonce=$("#dr-search-nonce").val(),jQuery.ajax({url:delicious_recipes.ajax_url,data:{action:"recipe_search_results",search:choices,nonce:nonce,paged:$(this).attr("href").split("=")[1]},dataType:"json",type:"post",beforeSend:function(){$(".dr-search-item-wrap").addClass("dr-loading")},success:function(response){var template;response.success&&(template=wp.template("search-block-tmp"),$(".dr-search-item-wrap").html(template(response.data.results)),$(".navigation.pagination .nav-links").addClass("dr-ajax-paginate").html(response.data.pagination))},complete:function(){$(".dr-search-item-wrap").removeClass("dr-loading")}})}),$(".post-share a.meta-title").on("click",function(e){e.stopPropagation(),$(this).siblings(".social-networks").slideToggle()}),$(".post-share").on("click",function(e){e.stopPropagation()}),$("body, html").on("click",function(){$(".post-share .social-networks").slideUp()}),$(".dr-category a, .post-navigation article .dr-category > span").each(function(){var recipeCatWidth=$(this).width(),recipeCatTitleWidth=$(this).children(".cat-name").outerWidth(),recipeCatTitleWidth=(parseInt(recipeCatTitleWidth)-parseInt(recipeCatWidth))/2;$(this).children(".cat-name").css("left",-recipeCatTitleWidth),$("body").hasClass("rtl")?$(this).children(".cat-name").css({left:"auto",right:-recipeCatTitleWidth}):$(this).children(".cat-name").css("left",-recipeCatTitleWidth)}),$(document).on("click",".dr_like__recipe",function(e){e.preventDefault();var container=$(this);id=container.attr("id").split("-").pop(),e=container.hasClass("recipe-liked")?(container.removeClass("recipe-liked"),container.addClass("like-recipe"),"remove"):(container.removeClass("like-recipe"),container.addClass("recipe-liked"),"add"),$.ajax({type:"post",url:delicious_recipes.ajax_url,data:{action:"recipe_likes",add_remove:e,id:id},beforeSend:function(){container.addClass("loading")},success:function(data){container.attr("title",data.data.likes),container.find(".dr-likes-total").html(data.data.likes_count)}}).done(function(){container.removeClass("loading")})}),$(".dr-recipe-wishlist span.dr-bookmark-wishlist").length&&$(document).on("click",".dr-recipe-wishlist span.dr-bookmark-wishlist",function(e){e.preventDefault();var addRemove,thisHeart=$(this),e=thisHeart.data("recipe-id");addRemove=thisHeart.hasClass("dr-wishlist-is-bookmarked")?(thisHeart.removeClass("dr-wishlist-is-bookmarked"),"remove"):(thisHeart.addClass("dr-wishlist-is-bookmarked"),"add"),$.ajax({type:"post",url:delicious_recipes.ajax_url,data:{action:"delicious_recipes_wishlist",add_remove:addRemove,recipe_id:e},beforeSend:function(){thisHeart.addClass("loading")},success:function(data){thisHeart.find(".dr-wishlist-total").html(data.data.wishlists),thisHeart.find(".dr-wishlist-info").html(data.data.message)}}).done(function(){thisHeart.removeClass("loading")})}),$(".dr-recipe-wishlist span.dr-popup-user__registration").length&&(modal=document.getElementById("dr-user__registration-login-popup"),(rtl=content.querySelectorAll(".dr-popup-user__registration"))&&rtl.forEach(function(_popupBtn){_popupBtn.addEventListener("click",function(e){e.preventDefault(),modal.style.display="block"})}),document.getElementsByClassName("dr-user__registration-login-popup-close")[0].onclick=function(){modal.style.display="none"},window.onclick=function(event){event.target==modal&&(modal.style.display="none")},$(document).on("submit","form[name='dr-form__log-in']",function(e){e.preventDefault();var loginform=$(this),e=loginform.find('input[name="username"]').val(),password=loginform.find('input[name="password"]').val(),rememberme=loginform.find('input[name="rememberme"]').val(),login=loginform.find('input[name="login"]').val(),nonce=loginform.find('input[name="delicious_recipes_user_login_nonce"]').val();$.ajax({url:delicious_recipes.ajax_url,data:{action:"delicious_recipes_process_login",username:e,password:password,rememberme:rememberme,login:login,delicious_recipes_user_login_nonce:nonce,calling_action:"delicious_recipes_modal_login"},dataType:"json",type:"post",beforeSend:function(){loginform.addClass("dr-loading"),$(".delicious-recipes-success-msg").hide(),$(".delicious-recipes-error-msg").hide()},success:function(response){response.success?($(".dr-recipe-wishlist > span").removeClass("dr-popup-user__registration"),$(".dr-recipe-wishlist > span").addClass("dr-bookmark-wishlist"),$(".delicious-recipes-success-msg").html(response.data.success).show(),location.reload()):$(".delicious-recipes-error-msg").html(response.data.error).show()},complete:function(){loginform.removeClass("dr-loading")}})})),$("#dr-recipes-clear-filters").on("click",function(e){e.preventDefault(),$(".dr-advance-search .advance-search-options select").each(function(){$(this).val(null).trigger("change")})}),$('.dr-inst-mark-read input[type="checkbox"]').each(function(){$(this).on("click",function(){1==$(this).prop("checked")?$(this).parents("li").addClass("dr-instruction-checked"):$(this).parents("li").removeClass("dr-instruction-checked")})}),$("form[name='dr-form__log-in']").parsley(),$(document).on("click",".dr-ud_tab",function(){$(".dr-ud__sidebar").removeClass("collapsed")})}(jQuery),window.addEventListener("load",recipeScripts());